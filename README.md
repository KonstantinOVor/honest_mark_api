## <u>API Честного знака. Создание документов с подписью и ограничением скорости.<u>
### Описание проекта
Данное API позволяет создавать документы с подписями и включает в себя 
ограничение скорости для контроля частоты запросов. Регулировка скорости
позволяет защитить API от чрезмерного использования.

### Функциональные возможности:

- Принимает данные документа и подпись через POST-запрос.
- Добавляет подпись к документу.
- Создает файл, содержащий документ в указанном формате.
- Реализует ограничение скорости для защиты от чрезмерных запросов, настройка которой
производится с помощью файла конфигурации 


### Структура проекта:

- CrptApiController: REST-контроллер, отвечающий за обработку входящих запросов.
- CrptApiService: Интерфейс сервиса, определяющий функциональность создания документа.
- CrptApiServiceServiceImpl: Реализация сервиса, обрабатывающая создание документа, добавление подписи, создание файла и ограничение скорости.

### Конечная точка API:

POST /ismp.crpt.ru/api/v3/lk/documents/create
### Тело запроса:

JSON
{
"document": {
// Поля данных документа
}

### Параметры запроса:
- Document
- signature: Подпись, которую нужно добавить к документу.

### Ответ:

**JSON:**
{
"description": "Описание документа",
"docId": "12345",
"docStatus": "ACTIVE",
// ... другие поля документа
"signature": "signed-data"
}

### Ограничение скорости:

API ограничивает количество запросов, которые могут быть сделаны в течение определенного интервала времени.
Если лимит запросов превышен, API будет спать в течение короткого периода времени перед обработкой запроса.
Лимит запросов и временной период задается в конфигурационном файле ***application.yaml***

### Настройка ***application.yaml***:

*Следующие свойства могут быть настроены в файле свойств:*
- **crpt.api.timeunit**: Единица измерения времени для ограничения скорости (например, "SECONDS", "MINUTES").
- **crpt.api.request-limit**: Максимальное количество запросов, разрешенных в течение интервала времени.
- **crpt.api.file-format**: Формат файла, который будет использоваться для созданных файлов документов.

### Инструкции по запуску:
1. Склонируйте репозиторий на локальную машину.
2. Убедитесь, что у вас установлен ***Java и Maven***.
3. Скомпилируйте проект.
4. Запустите приложение используя класс ***HonestMarkApiApplication***.
5. Отправьте POST-запрос на конечную точку ***/ismp.crpt.ru/api/v3/lk/documents/create*** с требуемыми данными.
6. Так же есть возможность запустить приложение с помощью [honest_mark_api.jar](out%2Fartifacts%2Fhonest_mark_api_jar%2Fhonest_mark_api.jar),
который расположен в репозитории ***out/artifacts/honest_mark_api_jar/honest_mark_api.jar***

### Используемые технологии:

- Java
- Spring Boot
- Spring MVC
- Jackson
- Lombok
- Maven
- 
### Контакты
- Автор: **Константин Воробьев**
- Email: **[prizmkonstantin@gmail.com](prizmkonstantin@gmail.com)**
- Telegram: **[@KonstantinVo](https://t.me/KonstantinVo)**
- Git: **[https://github.com/KonstantinOVor](https://github.com/KonstantinOVor)**
